/**
 * Include this code right after bxSlider.
 * Use "mouseDrag" options upon bxSlider initialization to enable mouse drag:
 * $('#slider').bxSlider({
 *     mouseDrag: true
 * });
 */
(function ($) {
 
    var bxSlider = jQuery.fn.bxSlider;
    var $window = $(window);
 
    jQuery.fn.bxSlider = function () {
 
        var slider = bxSlider.apply(this, arguments);
 
        if (!this.length || !arguments.mouseDrag) {
            return slider;
        }
 
        var previous_x_position;
        var previous_y_position;
 
        var $viewport = this.parents('.bx-viewport');
 
        $viewport
            .on('dragstart', dragHandler)
            .on('mousedown', mouseDownHandler);
 
        function dragHandler(e) {
            e.preventDefault();
        }
 
        function mouseDownHandler(e) {
 
            previous_x_position = e.pageX;
 
            $window.on('mousemove.bxSlider', mouseMoveHandler);
        }
 
        function mouseMoveHandler(e) {
 
            if (previous_x_position < event.pageX) {
                slider.goToPrevSlide();
            } else {
                slider.goToNextSlide();
            }
 
            $window.off('mousemove.bxSlider');
        }
 
        return slider;
    };
 
})(jQuery);